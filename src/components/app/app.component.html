<header>
  <nav class="navbar navbar-inverse">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" style="padding: 20px 10px;">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="brand navbar-brand" [routerLink]="['Dash']" style="padding: 10px 15px;">
          <img width="176" height="45" src="https://docs.angularjs.org/img/angularjs-for-header-only.svg">
        </a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li *ngIf="!user"><a ng-click="app.openLoginModal()">Login</a></li>
          <li class="dropdown" *ngIf="user">
            <a data-target="#" class="dropdown-toggle" data-toggle="dropdown">
               <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li><a href="movies/favorites">My Favorites</a></li>
              <li><a href="movies/watchlist">My Watchlist</a></li>
              <li><a href="movies/rated">Movies I've Rated</a></li>
              <li><a ng-click="app.logout()">Logout</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a data-target="" class="dropdown-toggle" data-toggle="dropdown">
              Movies <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li><a [routerLink]="['MoviesByType', { type: 'popular' }]">Popular</a></li>
              <li><a [routerLink]="['MoviesByType', { type: 'top_rated' }]">Top Rated</a></li>
              <li><a [routerLink]="['MoviesByType', { type: 'upcoming' }]">Upcoming</a></li>
              <li><a [routerLink]="['MoviesByType', { type: 'now_playing' }]">Now playing</a></li>
            </ul>
          </li>
          
          <li class="dropdown" >
            <a data-target="#" class="dropdown-toggle" data-toggle="dropdown">
              Genres <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li *ngFor="#genre of MOVIE_GENRES">
                <a [routerLink]="['MoviesByGenre', { genreId: genre.id }]">{{genre.label}}</a>
              </li>
            </ul>
          </li>
        </ul>
        <form class="navbar-form navbar-right" role="search">
          <div class="form-group">
            <input mdb-multi-search type="text" 
              class="form-control" 
              ng-model="search.query" 
              placeholder="Search for a movie or person..." 
              uib-typeahead="result.displayName for result in search.multiSearch($viewValue)" 
              typeahead-wait-ms="400" 
              typeahead-min-length="2" 
              typeahead-template-url="components/multiSearch/multiSearch.directive.html" 
              typeahead-popup-template-url="components/multiSearch/dropdown.html" 
              typeahead-on-select="search.onSelectResult($item, $model, $label)">
          </div>
        </form>
      </div><!--/.nav-collapse -->
    </div>
  </nav>
</header>

<router-outlet></router-outlet>